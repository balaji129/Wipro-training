<!-- admin-dashboard.html -->
<div class="admin-dashboard" *ngIf="auth.isAdmin()">

  <h1>Admin Dashboard</h1>

  <section>
    <h2>Doctors</h2>
    <p *ngIf="loadingDoctors">Loading doctors...</p>
    <div *ngIf="doctors.length === 0 && !loadingDoctors">No doctors found.</div>
    <div class="grid" *ngIf="doctors.length > 0">
      <div class="card" *ngFor="let d of doctors">
        <h3>{{ d.name }}</h3>
        <p>City: {{ d.city }} â€¢ Rating: {{ d.rating }}</p>
        <button (click)="editDoctor(d.doctorId)">Edit</button>
        <button (click)="deleteDoctor(d.doctorId)">Delete</button>
      </div>
    </div>
  </section>

  <section>
    <h2>Appointments</h2>
    <p *ngIf="loadingAppointments">Loading appointments...</p>
    <div *ngIf="appointments.length === 0 && !loadingAppointments">No appointments found.</div>
    <div class="grid" *ngIf="appointments.length > 0">
      <div class="card" *ngFor="let a of appointments">
        <p>{{ a.appointmentDate | date:'medium' }} - {{ a.timeSlot }} - {{ a.status }}</p>
        <label>Status:
        <select [(ngModel)]="a.status!" (change)="updateAppointmentStatus(a.appointmentId, a.status!)">
  <option value="Pending">Pending</option>
  <option value="Confirmed">Confirmed</option>
  <option value="Cancelled">Cancelled</option>
  <option value="Completed">Completed</option>
</select>
        </label>
        <button (click)="deleteAppointment(a.appointmentId)">Delete</button>
      </div>
    </div>
  </section>

</div>
